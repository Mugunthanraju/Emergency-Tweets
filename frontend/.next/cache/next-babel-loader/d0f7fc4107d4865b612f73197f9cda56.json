{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/Users/mertcanbilgic/Desktop/projects/imsafe/components/tweet-modal/index.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React from 'react';\nimport styles from './style.module.css';\nimport Photo from '../photo';\nimport ThemeButton from '../theme-button';\nimport IconButton from '../button/icon';\nimport { Close } from '../icons';\nimport Stack from '../stack';\n\nfunction TweetModal(_ref) {\n  _s();\n\n  var _ref$onModalClose = _ref.onModalClose,\n      onModalClose = _ref$onModalClose === void 0 ? function () {} : _ref$onModalClose,\n      _ref$onClick = _ref.onClick,\n      onClick = _ref$onClick === void 0 ? function () {} : _ref$onClick;\n\n  var _React$useState = React.useState(''),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      tweet = _React$useState2[0],\n      tweetSet = _React$useState2[1];\n\n  var onSubmit = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var response;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return fetch('/api/new', {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                  tweet: tweet\n                })\n              });\n\n            case 3:\n              response = _context.sent;\n\n              if (!(response.status !== 200)) {\n                _context.next = 6;\n                break;\n              }\n\n              throw 'Twet gönderilemedi.';\n\n            case 6:\n              tweetSet('');\n              onModalClose();\n              _context.next = 13;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](0);\n              console.log(_context.t0);\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 10]]);\n    }));\n\n    return function onSubmit() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(\"div\", {\n    className: styles.overlay,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 5\n    }\n  }, __jsx(\"div\", {\n    className: styles.modal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    className: styles.avatar,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, __jsx(Photo, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 11\n    }\n  })), __jsx(\"div\", {\n    className: styles.body,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 11\n    }\n  }, __jsx(\"textarea\", {\n    className: styles.textarea,\n    name: \"\",\n    rows: \"4\",\n    placeholder: \"Ne d\\xFC\\u015F\\xFCn\\xFCyorsun\",\n    value: tweet,\n    onChange: function onChange(e) {\n      return tweetSet(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  })), __jsx(Stack, {\n    gap: 20,\n    className: styles.footer,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  }, __jsx(IconButton, {\n    className: styles.close,\n    onClick: onClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }\n  }, __jsx(Close, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 15\n    }\n  })), __jsx(ThemeButton, {\n    onClick: onSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, \"Tweet\")))));\n}\n\n_s(TweetModal, \"Z25olCS6+cWOu4w8ZVuda018gAo=\");\n\n_c = TweetModal;\nexport default TweetModal;\n\nvar _c;\n\n$RefreshReg$(_c, \"TweetModal\");","map":{"version":3,"sources":["/Users/mertcanbilgic/Desktop/projects/imsafe/components/tweet-modal/index.js"],"names":["React","styles","Photo","ThemeButton","IconButton","Close","Stack","TweetModal","onModalClose","onClick","useState","tweet","tweetSet","onSubmit","fetch","method","headers","body","JSON","stringify","response","status","console","log","overlay","modal","avatar","textarea","e","target","value","footer","close"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,MAAP,MAAmB,oBAAnB;AACA,OAAOC,KAAP,MAAkB,UAAlB;AACA,OAAOC,WAAP,MAAwB,iBAAxB;AACA,OAAOC,UAAP,MAAuB,gBAAvB;AACA,SAASC,KAAT,QAAsB,UAAtB;AACA,OAAOC,KAAP,MAAkB,UAAlB;;AAEA,SAASC,UAAT,OAAqE;AAAA;;AAAA,+BAA/CC,YAA+C;AAAA,MAA/CA,YAA+C,kCAAhC,YAAM,CAAE,CAAwB;AAAA,0BAAtBC,OAAsB;AAAA,MAAtBA,OAAsB,6BAAZ,YAAM,CAAE,CAAI;;AAAA,wBACzCT,KAAK,CAACU,QAAN,CAAe,EAAf,CADyC;AAAA;AAAA,MAC5DC,KAD4D;AAAA,MACrDC,QADqD;;AAGnE,MAAMC,QAAQ;AAAA,yEAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEUC,KAAK,CAAC,UAAD,EAAa;AACvCC,gBAAAA,MAAM,EAAE,MAD+B;AAEvCC,gBAAAA,OAAO,EAAE;AACP,kCAAgB;AADT,iBAF8B;AAKvCC,gBAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAER,kBAAAA,KAAK,EAALA;AAAF,iBAAf;AALiC,eAAb,CAFf;;AAAA;AAEPS,cAAAA,QAFO;;AAAA,oBASTA,QAAQ,CAACC,MAAT,KAAoB,GATX;AAAA;AAAA;AAAA;;AAAA,oBASsB,qBATtB;;AAAA;AAWbT,cAAAA,QAAQ,CAAC,EAAD,CAAR;AACAJ,cAAAA,YAAY;AAZC;AAAA;;AAAA;AAAA;AAAA;AAcbc,cAAAA,OAAO,CAACC,GAAR;;AAda;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAARV,QAAQ;AAAA;AAAA;AAAA,KAAd;;AAkBA,SACE;AAAK,IAAA,SAAS,EAAEZ,MAAM,CAACuB,OAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAEvB,MAAM,CAACwB,KAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAK,IAAA,SAAS,EAAExB,MAAM,CAACyB,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EAIE;AAAK,IAAA,SAAS,EAAEzB,MAAM,CAACgB,IAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AACE,IAAA,SAAS,EAAEhB,MAAM,CAAC0B,QADpB;AAEE,IAAA,IAAI,EAAC,EAFP;AAGE,IAAA,IAAI,EAAC,GAHP;AAIE,IAAA,WAAW,EAAC,+BAJd;AAKE,IAAA,KAAK,EAAEhB,KALT;AAME,IAAA,QAAQ,EAAE,kBAACiB,CAAD;AAAA,aAAOhB,QAAQ,CAACgB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAf;AAAA,KANZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EAWE,MAAC,KAAD;AAAO,IAAA,GAAG,EAAE,EAAZ;AAAgB,IAAA,SAAS,EAAE7B,MAAM,CAAC8B,MAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,UAAD;AAAY,IAAA,SAAS,EAAE9B,MAAM,CAAC+B,KAA9B;AAAqC,IAAA,OAAO,EAAEvB,OAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,MAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,EAIE,MAAC,WAAD;AAAa,IAAA,OAAO,EAAEI,QAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAJF,CAXF,CAJF,CADF,CADF;AA2BD;;GAhDQN,U;;KAAAA,U;AAkDT,eAAeA,UAAf","sourcesContent":["import React from 'react'\n\nimport styles from './style.module.css'\nimport Photo from '../photo'\nimport ThemeButton from '../theme-button'\nimport IconButton from '../button/icon'\nimport { Close } from '../icons'\nimport Stack from '../stack'\n\nfunction TweetModal({ onModalClose = () => {}, onClick = () => {} }) {\n  const [tweet, tweetSet] = React.useState('')\n\n  const onSubmit = async () => {\n    try {\n      const response = await fetch('/api/new', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ tweet })\n      })\n      if (response.status !== 200) throw 'Twet gönderilemedi.'\n\n      tweetSet('')\n      onModalClose()\n    } catch (e) {\n      console.log(e)\n    }\n  }\n\n  return (\n    <div className={styles.overlay}>\n      <div className={styles.modal}>\n        <div className={styles.avatar}>\n          <Photo />\n        </div>\n        <div className={styles.body}>\n          <div>\n            <textarea\n              className={styles.textarea}\n              name=\"\"\n              rows=\"4\"\n              placeholder=\"Ne düşünüyorsun\"\n              value={tweet}\n              onChange={(e) => tweetSet(e.target.value)}\n            />\n          </div>\n          <Stack gap={20} className={styles.footer}>\n            <IconButton className={styles.close} onClick={onClick}>\n              <Close />\n            </IconButton>\n            <ThemeButton onClick={onSubmit}>Tweet</ThemeButton>\n          </Stack>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default TweetModal\n"]},"metadata":{},"sourceType":"module"}